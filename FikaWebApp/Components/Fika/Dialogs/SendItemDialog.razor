@using FikaShared.Requests
<MudDialog>
	<DialogContent>
		<MudStack Spacing="4">
			<MudText>Input a MongoId and a valid amount to send</MudText>
			<MudTextField @bind-Value="@_itemId" Placeholder="The MongoId to send"
				Validation="@(new Func<string, string>(Statics.ValidateMongoId))" Immediate="true" OnlyValidateIfDirty="true" />
			<MudNumericField @bind-Value="@_amount" Placeholder="How many items to send" Min="0" Max="9999" />
			<FikaMultiLineTextField StringValue="@_message" />						  
		</MudStack>
	</DialogContent>
	<DialogActions>
		<MudButton Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Icons.Material.Filled.CheckCircle" OnClick="Confirm">Confirm</MudButton>
		<MudButton Variant="Variant.Filled" Color="Color.Secondary" StartIcon="@Icons.Material.Filled.Cancel" OnClick="Cancel">Cancel</MudButton>
	</DialogActions>
</MudDialog>

@code {
	[CascadingParameter]
	private IMudDialogInstance MudDialog { get; set; }

	private string _itemId = string.Empty;
	private int _amount = 1;
	private string _message = string.Empty;

	private void Confirm()
	{
		MudDialog.Close(new Tuple<string, int, string>(_itemId, _amount, _message));
	}

	private void Cancel()
	{
		MudDialog.Cancel();
	}
}
